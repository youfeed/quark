{"version":3,"sources":["../../src/packages/button/index.js"],"names":["CsButton","HTMLElement","observedAttributes","constructor","shadowRoot","attachShadow","mode","innerHTML","color","href","target","rel","loading","icon","disabled","getAttribute","name","checked","value","setAttribute","removeAttribute","connectedCallback","btn","getElementById","load","document","createElement","style","attributeChangedCallback","oldValue","newValue","prepend","removeChild","customElements","get","define"],"mappings":"AAAA,OAAO,qBAAP;AACA,OAAO,kBAAP;AAEA,eAAe,MAAMA,QAAN,SAAuBC,WAAvB,CAAmC;AACjB,aAAlBC,kBAAkB,GAAG;AAAE,WAAO,CAAC,UAAD,EAAY,MAAZ,EAAmB,SAAnB,EAA6B,MAA7B,CAAP;AAA6C;;AAE/EC,EAAAA,WAAW,GAAG;AACV;AACA,UAAMC,UAAU,GAAG,KAAKC,YAAL,CAAkB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAlB,CAAnB;AACAF,IAAAA,UAAU,CAACG,SAAX,GAAwB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,KAAKC,KAAM;AACnC,yBAAyB,KAAKA,KAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAKC,IAAL,GAAU,GAAV,GAAc,QAAS,IAAG,KAAKA,IAAL,GAAU,WAAS,KAAKA,IAAd,GAAmB,YAAnB,GAAgC,KAAKC,MAArC,GAA4C,SAA5C,GAAsD,KAAKC,GAA3D,GAA+D,GAAzE,GAA6E,EAAG,2BAA0B,KAAKF,IAAL,GAAU,GAAV,GAAc,QAAS,IAAG,CAAC,KAAKG,OAAN,IAAiB,KAAKC,IAAtB,IAA8B,KAAKA,IAAL,IAAW,MAAzC,GAAgD,6BAA2B,KAAKA,IAAhC,GAAqC,aAArF,GAAmG,EAAG;AAC/Q,SA9FQ;AA+FH;;AAEW,MAARC,QAAQ,GAAG;AACX,WAAO,KAAKC,YAAL,CAAkB,UAAlB,MAAgC,IAAvC;AACH;;AAEO,MAAJC,IAAI,GAAG;AACP,WAAO,KAAKD,YAAL,CAAkB,MAAlB,CAAP;AACH;;AAEU,MAAPE,OAAO,GAAG;AACV,WAAO,KAAKF,YAAL,CAAkB,SAAlB,MAA+B,IAAtC;AACH;;AAEO,MAAJN,IAAI,GAAG;AACP,WAAO,KAAKM,YAAL,CAAkB,MAAlB,CAAP;AACH;;AAES,MAANL,MAAM,GAAG;AACT,WAAO,KAAKK,YAAL,CAAkB,QAAlB,KAA6B,QAApC;AACH;;AAEM,MAAHJ,GAAG,GAAG;AACN,WAAO,KAAKI,YAAL,CAAkB,KAAlB,CAAP;AACH;;AAEO,MAAJF,IAAI,GAAG;AACP,WAAO,KAAKE,YAAL,CAAkB,MAAlB,CAAP;AACH;;AAEQ,MAALP,KAAK,GAAG;AACR,WAAO,KAAKO,YAAL,CAAkB,OAAlB,CAAP;AACH;;AAEU,MAAPH,OAAO,GAAG;AACV,WAAO,KAAKG,YAAL,CAAkB,SAAlB,MAAiC,IAAxC;AACH;;AAEO,MAAJF,IAAI,CAACK,KAAD,EAAQ;AACZ,SAAKC,YAAL,CAAkB,MAAlB,EAA0BD,KAA1B;AACH;;AAEO,MAAJT,IAAI,CAACS,KAAD,EAAQ;AACZ,SAAKC,YAAL,CAAkB,MAAlB,EAA0BD,KAA1B;AACH;;AAEW,MAARJ,QAAQ,CAACI,KAAD,EAAQ;AAChB,QAAGA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAA/B,EAAqC;AACjC,WAAKE,eAAL,CAAqB,UAArB;AACH,KAFD,MAEK;AACD,WAAKD,YAAL,CAAkB,UAAlB,EAA8B,EAA9B;AACH;AACJ;;AAEU,MAAPF,OAAO,CAACC,KAAD,EAAQ;AACf,QAAGA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAA/B,EAAqC;AACjC,WAAKE,eAAL,CAAqB,SAArB;AACH,KAFD,MAEK;AACD,WAAKD,YAAL,CAAkB,SAAlB,EAA6B,EAA7B;AACH;AACJ;;AAEU,MAAPP,OAAO,CAACM,KAAD,EAAQ;AACf,QAAGA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAA/B,EAAqC;AACjC,WAAKE,eAAL,CAAqB,SAArB;AACH,KAFD,MAEK;AACD,WAAKD,YAAL,CAAkB,SAAlB,EAA6B,EAA7B;AACH;AACJ;;AAEDE,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,GAAL,GAAW,KAAKlB,UAAL,CAAgBmB,cAAhB,CAA+B,KAA/B,CAAX;AACA,SAAKV,IAAL,GAAY,KAAKT,UAAL,CAAgBmB,cAAhB,CAA+B,MAA/B,CAAZ;AACA,SAAKC,IAAL,GAAYC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAZ;AACA,SAAKF,IAAL,CAAUG,KAAV,CAAgBnB,KAAhB,GAAwB,SAAxB,CAJgB,CAKhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAKM,QAAL,GAAgB,KAAKA,QAArB;AACA,SAAKF,OAAL,GAAe,KAAKA,OAApB;AACH;;AAEDgB,EAAAA,wBAAwB,CAAEZ,IAAF,EAAQa,QAAR,EAAkBC,QAAlB,EAA4B;AAChD,QAAGd,IAAI,IAAI,UAAR,IAAsB,KAAKM,GAA9B,EAAkC;AAC9B,UAAGQ,QAAQ,KAAG,IAAd,EAAmB;AACf,aAAKR,GAAL,CAASH,YAAT,CAAsB,UAAtB,EAAkC,UAAlC;;AACA,YAAG,KAAKV,IAAR,EAAa;AACT,eAAKa,GAAL,CAASF,eAAT,CAAyB,MAAzB;AACH;AACJ,OALD,MAKK;AACD,aAAKE,GAAL,CAASF,eAAT,CAAyB,UAAzB;;AACA,YAAG,KAAKX,IAAR,EAAa;AACT,eAAKa,GAAL,CAASb,IAAT,GAAgB,KAAKA,IAArB;AACH;AACJ;AACJ;;AACD,QAAIO,IAAI,IAAI,SAAR,IAAqB,KAAKM,GAA9B,EAAkC;AAC9B,UAAGQ,QAAQ,KAAG,IAAd,EAAmB;AACf,aAAK1B,UAAL,CAAgB2B,OAAhB,CAAwB,KAAKP,IAA7B;AACA,aAAKF,GAAL,CAASH,YAAT,CAAsB,UAAtB,EAAkC,UAAlC;AACH,OAHD,MAGK;AACD,aAAKf,UAAL,CAAgB4B,WAAhB,CAA4B,KAAKR,IAAjC;AACA,aAAKF,GAAL,CAASF,eAAT,CAAyB,UAAzB;AACH;AACJ;;AACD,QAAIJ,IAAI,IAAI,MAAR,IAAkB,KAAKM,GAA3B,EAA+B;AAC3B,UAAG,CAAC,KAAKR,QAAT,EAAkB;AACd,aAAKQ,GAAL,CAASb,IAAT,GAAgBqB,QAAhB;AACH;AACJ;AACJ;;AAzN6C;;AA4NlD,IAAG,CAACG,cAAc,CAACC,GAAf,CAAmB,WAAnB,CAAJ,EAAoC;AAChCD,EAAAA,cAAc,CAACE,MAAf,CAAsB,WAAtB,EAAmCnC,QAAnC;AACH","sourcesContent":["import '../loading/index.js';\nimport '../icon/index.js';\n\nexport default class CsButton extends HTMLElement {\n    static get observedAttributes() { return ['disabled','icon','loading','href'] }\n\n    constructor() {\n        super();\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n        <style>\n        :host{\n            position:relative;\n            display:inline-flex;\n            align-items:center;\n            vertical-align: middle;\n            justify-content: center;\n            padding: .25em .625em;\n            box-sizing:border-box;\n            height: 38px;\n            overflow:hidden;\n            border:1px solid var(--borderColor,#E1E6EB);\n            font-size: 14px;\n            border-radius: var(--borderRadius,8px);\n            background:#fff;\n        }\n        :host([disabled]),:host([loading]){\n            pointer-events: none; \n            opacity:.6; \n        }\n        :host([block]){ \n            display:flex; \n        }\n        :host([disabled]:not([type])){ \n            background:rgba(0,0,0,.1); \n        }\n        :host([disabled]) .btn,:host([loading]) .btn{ \n            cursor: not-allowed;\n            pointer-events: all;\n        }\n        :host([type=\"primary\"]){ \n            color: #fff; \n            background:var(--themeColor,#0088FF);\n        }\n        :host([type=\"danger\"]){\n            color: #fff; \n            background:var(--dangerColor,#F72626);\n        }\n        :host([type=\"warning\"]){ \n            color: #fff; \n            background:var(--warningColor,#FB990F);\n        }\n        :host([type=\"info\"]){ \n            color: #fff; \n            background:var(--infoColor,#07C160);\n        }\n        :host([type=\"primary\"]),:host([type=\"danger\"]){ \n            border:0;\n            padding: calc( .25em + 1px ) calc( .625em + 1px );\n        }\n        :host([color=\"${this.color}\"]){ \n            background:${this.color};\n        }\n        .btn{ \n            background:none; \n            outline:0; \n            border:0; \n            position: \n            absolute; \n            left:0; \n            top:0;\n            width:100%;\n            height:100%;\n            padding:0;\n            user-select: none;\n            cursor: unset;\n        }\n        cs-loading{ \n            margin-right: 0.35em;  \n        }\n        ::-moz-focus-inner{\n            border:0;\n        }\n        :host(:not([disabled]):active) .btn::before{ \n            opacity:.2;\n        }\n        .btn:not([disabled]):active::after {\n            transform: translate(-50%,-50%) scale(0);\n            opacity: .3;\n            transition: 0s;\n        }\n        cs-icon{\n            margin-right: 0.35em;\n            transition: none;\n        }\n        ::slotted(cs-icon){\n            transition: none;\n        }\n        :host([href]){\n            cursor:pointer;\n        }\n        </style>\n        <${this.href?'a':'button'} ${this.href?'href=\"'+this.href+'\" target=\"'+this.target+'\" rel=\"'+this.rel+'\"':''} class=\"btn\" id=\"btn\"></${this.href?'a':'button'}>${!this.loading && this.icon && this.icon!='null'?'<cs-icon id=\"icon\" name='+this.icon+'></cs-icon>':''}<slot></slot>\n        `\n    }\n    \n    get disabled() {\n        return this.getAttribute('disabled')!==null;\n    }\n\n    get name() {\n        return this.getAttribute('name');\n    }\n\n    get checked() {\n        return this.getAttribute('checked')!==null;\n    }\n\n    get href() {\n        return this.getAttribute('href');\n    }\n\n    get target() {\n        return this.getAttribute('target')||'_blank';\n    }\n\n    get rel() {\n        return this.getAttribute('rel');\n    }\n\n    get icon() {\n        return this.getAttribute('icon');\n    }\n\n    get color() {\n        return this.getAttribute('color');\n    }\n\n    get loading() {\n        return this.getAttribute('loading') !== null;\n    }\n\n    set icon(value) {\n        this.setAttribute('icon', value);\n    }\n\n    set href(value) {\n        this.setAttribute('href', value);\n    }\n\n    set disabled(value) {\n        if(value === null || value === false){\n            this.removeAttribute('disabled');\n        }else{\n            this.setAttribute('disabled', '');\n        }\n    }\n\n    set checked(value) {\n        if(value === null || value === false){\n            this.removeAttribute('checked');\n        }else{\n            this.setAttribute('checked', '');\n        }\n    }\n\n    set loading(value) {\n        if(value === null || value === false){\n            this.removeAttribute('loading');\n        }else{\n            this.setAttribute('loading', '');\n        }\n    }\n\n    connectedCallback() {\n        this.btn = this.shadowRoot.getElementById('btn');\n        this.icon = this.shadowRoot.getElementById('icon');\n        this.load = document.createElement('cs-loading');\n        this.load.style.color = 'inherit';\n        // this.btn.addEventListener('mousedown',function(ev){\n        //     //ev.preventDefault();\n        //     //ev.stopPropagation();\n        //     if(!this.disabled){\n        //         const { left, top } = this.getBoundingClientRect();\n        //         this.style.setProperty('--x',(ev.clientX - left)+'px');\n        //         this.style.setProperty('--y',(ev.clientY - top)+'px');\n        //     }\n        // })\n        this.disabled = this.disabled;\n        this.loading = this.loading;\n    }\n\n    attributeChangedCallback (name, oldValue, newValue) {\n        if(name == 'disabled' && this.btn){\n            if(newValue!==null){\n                this.btn.setAttribute('disabled', 'disabled');\n                if(this.href){\n                    this.btn.removeAttribute('href');\n                }\n            }else{\n                this.btn.removeAttribute('disabled');\n                if(this.href){\n                    this.btn.href = this.href;\n                }\n            }\n        }\n        if( name == 'loading' && this.btn){\n            if(newValue!==null){\n                this.shadowRoot.prepend(this.load);\n                this.btn.setAttribute('disabled', 'disabled');\n            }else{\n                this.shadowRoot.removeChild(this.load);\n                this.btn.removeAttribute('disabled');\n            }\n        }\n        if( name == 'href' && this.btn){\n            if(!this.disabled){\n                this.btn.href = newValue;\n            }\n        }\n    }\n}\n\nif(!customElements.get('cs-button')){\n    customElements.define('cs-button', CsButton);\n}\n"],"file":"index.js"}