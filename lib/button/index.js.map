{"version":3,"sources":["../../src/packages/button/index.js"],"names":["CsButton","shadowRoot","attachShadow","mode","innerHTML","color","href","target","rel","loading","icon","connectedCallback","btn","getElementById","load","document","createElement","style","disabled","attributeChangedCallback","name","oldValue","newValue","setAttribute","removeAttribute","prepend","removeChild","getAttribute","value","HTMLElement","customElements","get","define"],"mappings":"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","sourcesContent":["import '../loading/index.js';\nimport '../icon/index.js';\n\nexport default class CsButton extends HTMLElement {\n    static get observedAttributes() { return ['disabled','icon','loading','href'] }\n\n    constructor() {\n        super();\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n        <style>\n        :host{\n            position:relative;\n            display:inline-flex;\n            align-items:center;\n            vertical-align: middle;\n            justify-content: center;\n            padding: .25em .625em;\n            box-sizing:border-box;\n            height: 38px;\n            overflow:hidden;\n            border:1px solid var(--borderColor,#E1E6EB);\n            font-size: 14px;\n            border-radius: var(--borderRadius,8px);\n            background:#fff;\n        }\n        :host([disabled]),:host([loading]){\n            pointer-events: none; \n            opacity:.6; \n        }\n        :host([block]){ \n            display:flex; \n        }\n        :host([disabled]:not([type])){ \n            background:rgba(0,0,0,.1); \n        }\n        :host([disabled]) .btn,:host([loading]) .btn{ \n            cursor: not-allowed;\n            pointer-events: all;\n        }\n        :host([type=\"primary\"]){ \n            color: #fff; \n            background:var(--themeColor,#0088FF);\n        }\n        :host([type=\"danger\"]){\n            color: #fff; \n            background:var(--dangerColor,#F72626);\n        }\n        :host([type=\"warning\"]){ \n            color: #fff; \n            background:var(--warningColor,#FB990F);\n        }\n        :host([type=\"info\"]){ \n            color: #fff; \n            background:var(--infoColor,#07C160);\n        }\n        :host([type=\"primary\"]),:host([type=\"danger\"]){ \n            border:0;\n            padding: calc( .25em + 1px ) calc( .625em + 1px );\n        }\n        :host([color=\"${this.color}\"]){ \n            background:${this.color};\n        }\n        .btn{ \n            background:none; \n            outline:0; \n            border:0; \n            position: \n            absolute; \n            left:0; \n            top:0;\n            width:100%;\n            height:100%;\n            padding:0;\n            user-select: none;\n            cursor: unset;\n        }\n        cs-loading{ \n            margin-right: 0.35em;  \n        }\n        ::-moz-focus-inner{\n            border:0;\n        }\n        :host(:not([disabled]):active) .btn::before{ \n            opacity:.2;\n        }\n        .btn:not([disabled]):active::after {\n            transform: translate(-50%,-50%) scale(0);\n            opacity: .3;\n            transition: 0s;\n        }\n        cs-icon{\n            margin-right: 0.35em;\n            transition: none;\n        }\n        ::slotted(cs-icon){\n            transition: none;\n        }\n        :host([href]){\n            cursor:pointer;\n        }\n        </style>\n        <${this.href?'a':'button'} ${this.href?'href=\"'+this.href+'\" target=\"'+this.target+'\" rel=\"'+this.rel+'\"':''} class=\"btn\" id=\"btn\"></${this.href?'a':'button'}>${!this.loading && this.icon && this.icon!='null'?'<cs-icon id=\"icon\" name='+this.icon+'></cs-icon>':''}<slot></slot>\n        `\n    }\n    \n    get disabled() {\n        return this.getAttribute('disabled')!==null;\n    }\n\n    get name() {\n        return this.getAttribute('name');\n    }\n\n    get checked() {\n        return this.getAttribute('checked')!==null;\n    }\n\n    get href() {\n        return this.getAttribute('href');\n    }\n\n    get target() {\n        return this.getAttribute('target')||'_blank';\n    }\n\n    get rel() {\n        return this.getAttribute('rel');\n    }\n\n    get icon() {\n        return this.getAttribute('icon');\n    }\n\n    get color() {\n        return this.getAttribute('color');\n    }\n\n    get loading() {\n        return this.getAttribute('loading') !== null;\n    }\n\n    set icon(value) {\n        this.setAttribute('icon', value);\n    }\n\n    set href(value) {\n        this.setAttribute('href', value);\n    }\n\n    set disabled(value) {\n        if(value === null || value === false){\n            this.removeAttribute('disabled');\n        }else{\n            this.setAttribute('disabled', '');\n        }\n    }\n\n    set checked(value) {\n        if(value === null || value === false){\n            this.removeAttribute('checked');\n        }else{\n            this.setAttribute('checked', '');\n        }\n    }\n\n    set loading(value) {\n        if(value === null || value === false){\n            this.removeAttribute('loading');\n        }else{\n            this.setAttribute('loading', '');\n        }\n    }\n\n    connectedCallback() {\n        this.btn = this.shadowRoot.getElementById('btn');\n        this.icon = this.shadowRoot.getElementById('icon');\n        this.load = document.createElement('cs-loading');\n        this.load.style.color = 'inherit';\n        // this.btn.addEventListener('mousedown',function(ev){\n        //     //ev.preventDefault();\n        //     //ev.stopPropagation();\n        //     if(!this.disabled){\n        //         const { left, top } = this.getBoundingClientRect();\n        //         this.style.setProperty('--x',(ev.clientX - left)+'px');\n        //         this.style.setProperty('--y',(ev.clientY - top)+'px');\n        //     }\n        // })\n        this.disabled = this.disabled;\n        this.loading = this.loading;\n    }\n\n    attributeChangedCallback (name, oldValue, newValue) {\n        if(name == 'disabled' && this.btn){\n            if(newValue!==null){\n                this.btn.setAttribute('disabled', 'disabled');\n                if(this.href){\n                    this.btn.removeAttribute('href');\n                }\n            }else{\n                this.btn.removeAttribute('disabled');\n                if(this.href){\n                    this.btn.href = this.href;\n                }\n            }\n        }\n        if( name == 'loading' && this.btn){\n            if(newValue!==null){\n                this.shadowRoot.prepend(this.load);\n                this.btn.setAttribute('disabled', 'disabled');\n            }else{\n                this.shadowRoot.removeChild(this.load);\n                this.btn.removeAttribute('disabled');\n            }\n        }\n        if( name == 'href' && this.btn){\n            if(!this.disabled){\n                this.btn.href = newValue;\n            }\n        }\n    }\n}\n\nif(!customElements.get('cs-button')){\n    customElements.define('cs-button', CsButton);\n}\n"],"file":"index.js"}